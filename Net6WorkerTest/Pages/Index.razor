@inject IJSRuntime JSRuntime;
@inject HttpClient Http;
@inject WorkerService workerService;

@page "/"
@using BlazorTask

<PageTitle>Index</PageTitle>
<h1>function unit tests</h1>

<h3>Boot worker</h3>
<div>
    <button class="btn btn-primary" @onclick="OnBootClick">Run</button>
    <span>@serviceBootTime</span>
    <span>@workerBootTime</span>
</div>

<hr />

<h3>Call void method at worker</h3>
<div>
    <button class="btn btn-primary" @onclick="OnRunVoidClicked">Run</button>
    <span>@methodCallTime</span>
</div>

<hr />

<div>
    <input @bind="inputNum1" />
    <span>+</span>
    <input @bind="inputNum2" />
    <span>=</span>
    <span>@addResult</span>
</div>

<h3>Add number at worker</h3>
<div>
    <div style="padding:10px 0 0 0">
        <button class="btn btn-primary" @onclick="OnAddClicked">Calculate</button>
        <span>@addTime</span>
    </div>
</div>

<hr />

<h3>Add number at worker async</h3>
<div>
    <div style="padding:10px 0 0 0">
        <button class="btn btn-primary" @onclick="OnAddAsyncClicked">Calculate</button>
        <span>@asyncAddTime</span>
    </div>
</div>

<hr />

<h3>Add number bia reverse call</h3>
<div>
    <button class="btn btn-primary" @onclick="OnReverseCallClicked">Run</button>
    <pre>
        @reverseCallString
    </pre>
</div>

<hr />

<h3>Call sync method at worker</h3>
<div>
    <button class="btn btn-primary" @onclick="OnRunSyncVoidClicked">Run</button>
    <span>@syncMethodCallTime</span>
    <pre>
        @syncReverseCallString
    </pre>
</div>

<hr />

<h3>Throw exception</h3>
<div>
    <button class="btn btn-primary" @onclick="OnExceptionClicked">Run</button>
    <pre>
        @exceptionString
    </pre>
</div>

<hr />

<h3>Async throw exception</h3>
<div>
    <button class="btn btn-primary" @onclick="OnAsyncExceptionClicked">Run</button>
    <pre>
        @asyncExceptionString
    </pre>
</div>